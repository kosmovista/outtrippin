<div class="cover">
  <div class="header">
    <div class="row">
      <ul class="pictures small-block-grid-3">
        <li ng-repeat="pic in plan.pictures" id="{{pic.id}}">
          <img src="{{pic.thumb}}" />
          <button ng-click="delete_picture(pic.id)" class="small button">delete</button>
        </li>
        <li><input type="file" ng-file-select="onFileSelect($files)"></li>
      </ul>
    </div>
  </div>
   <div class="row tabs"></div>
</div>

<ul class="days small-block-grid-1">
  <li ng-repeat="day in plan.days" id="{{day.id}}">
    <!-- DISPLAY TITLE, PARAGRAPH AND EDIT BUTTON -->
    <div ng-show="!editing" >
      <div class="row">
        <div class="large-11 large-centered small-12 columns">
          <div class="large-2 small-12 columns">
            <h5 class="subheader serif"><em>Day X</em></h5>
          </div>       
          <div class="large-8 columns">
            <h3 style="margin-top:0;">{{day.title}}</h3>
            <div class="desc">
              <p ng-bind-html="day.body"></p>
            </div>
            <div class="large-2 large-centered columns">
              <hr>
            </div>
          </div>
          <div class="large-1 right columns">
            <button ng-click="editing = true" class="small radius button">edit</button>
          </div>
        </div>
      </div>
    </div>
    <!-- WHILE EDITING -->
    <div ng-show="editing" class="edit">
      <div class="row">
        <div class="large-11 large-centered small-12 columns">
          <form ng-submit="editing = false">
            <div class="large-2 small-12 columns">
              <h5 class="subheader serif"><em>Day X</em></h5>
            </div>   
            <div class="large-8 small-12 columns">
              <h3><input type="text" autofocus="true" ng-model="day.title" /></h3>
              <div text-angular ng-model="day.body"></div>
            </div>
            <div class="large-2 small-12 columns">
              <a href="" class="small round no-margin button" ng-click="update_day(day.id, day.title, day.body)">S</a>
              <a href="" class="small round no-margin secondary button" ng-click="editing = false">C</a>
              <a href="" class="small round no-margin alert button" ng-click="delete_day(day.id)">X</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </li>


  <!-- ADD NEW DAY -->
  <li ng-show="add_day" class="edit">
    <form ng-submit="add_day = false">
      <div class="row">
        <div class="large-11 large-centered small-12 columns">
          <div class="large-2 small-12 columns">
            <h5 class="subheader serif"><em>Day X</em></h5>
          </div>
          <div class="large-8 small-12 columns">
            <h3><input type="text" autofocus="true" ng-model="day.title"/></h3>
            <div text-angular ng-model="day.body"></div>
          </div>
          <div class="large-2 small-12 columns">
            <button class="small round no-margin" ng-click="save_day()">S</button>
          </div>
        </div>
      </div>
    </form>
  </li>
</ul>

<div class="row">
  <div class="large-12 text-center columns">
    <a href="" class="button radius" ng-click="add_day=true">&#43; Add Day</a>
  </div>
</div>

